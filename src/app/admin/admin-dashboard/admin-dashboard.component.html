<div class="admin-dashboard">
  <!-- En-tête du tableau de bord -->
  <div class="dashboard-header">
    <h1>Tableau de bord</h1>
    <div class="header-actions">
      <div class="date-selector">
        <span class="current-date">{{ today | date:'dd MMM yyyy' }}</span>
        <button class="icon-button" matTooltip="Sélectionner une date">
          <i class="fas fa-calendar-alt"></i>
        </button>
      </div>
      <div class="profile-menu">
        <img src="assets/images/avatar.jpg" alt="Profile" class="avatar">
        <span class="username">{{ currentUser?.firstName }}</span>
      </div>
    </div>
  </div>

  <!-- Navigation du tableau de bord -->
  <div class="dashboard-nav">
    <button class="nav-item" [class.active]="activeTab === 'overview'" (click)="setActiveTab('overview')">
      <i class="fas fa-chart-pie"></i>
      <span>Vue d'ensemble</span>
    </button>
    <button class="nav-item" [class.active]="activeTab === 'users'" (click)="setActiveTab('users')">
      <i class="fas fa-users"></i>
      <span>Utilisateurs</span>
    </button>
    <button class="nav-item" [class.active]="activeTab === 'spaces'" (click)="setActiveTab('spaces')">
      <i class="fas fa-building"></i>
      <span>Espaces</span>
    </button>
    <button class="nav-item" [class.active]="activeTab === 'bookings'" (click)="setActiveTab('bookings')">
      <i class="fas fa-calendar-check"></i>
      <span>Réservations</span>
    </button>
    <button class="nav-item" [class.active]="activeTab === 'analytics'" (click)="setActiveTab('analytics')">
      <i class="fas fa-chart-line"></i>
      <span>Analyses</span>
    </button>
    <button class="nav-item" [class.active]="activeTab === 'settings'" (click)="setActiveTab('settings')">
      <i class="fas fa-cog"></i>
      <span>Paramètres</span>
    </button>
  </div>

  <!-- Contenu principal -->
  <div class="dashboard-content" *ngIf="activeTab === 'overview'">
    <!-- Résumé et widgets -->
    <div class="dashboard-row">
      <div class="welcome-card">
        <div class="welcome-text">
          <h2>Bonjour, {{ currentUser?.firstName }}</h2>
          <p>Voici le résumé de l'activité de votre plateforme aujourd'hui</p>
        </div>
        <div class="welcome-actions">
          <button class="btn-primary">
            <i class="fas fa-download"></i> Exporter les données
          </button>
        </div>
      </div>
      
      <div class="notifications-card">
        <div class="card-header">
          <h3>Notifications</h3>
          <span class="badge">3</span>
        </div>
        <div class="notification-list">
          <div class="notification-item">
            <div class="notification-icon new">
              <i class="fas fa-user-plus"></i>
            </div>
            <div class="notification-content">
              <p>Nouvel utilisateur inscrit</p>
              <span class="notification-time">Il y a 2 heures</span>
            </div>
          </div>
          <div class="notification-item">
            <div class="notification-icon">
              <i class="fas fa-calendar-plus"></i>
            </div>
            <div class="notification-content">
              <p>Nouvelle réservation créée</p>
              <span class="notification-time">Il y a 5 heures</span>
            </div>
          </div>
        </div>
        <a href="#" class="see-all">Voir toutes les notifications</a>
      </div>
    </div>

    <!-- Cartes de statistiques -->
    <div class="stats-section">
      <h2>Statistiques</h2>
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon users">
            <i class="fas fa-users"></i>
          </div>
          <div class="stat-details">
            <h3>Utilisateurs</h3>
            <div class="stat-number-container">
              <p class="stat-number">{{ totalUsers }}</p>
              <span class="stat-trend positive">
                <i class="fas fa-arrow-up"></i> 12%
              </span>
            </div>
            <p class="stat-info">Depuis le mois dernier</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon spaces">
            <i class="fas fa-building"></i>
          </div>
          <div class="stat-details">
            <h3>Espaces</h3>
            <div class="stat-number-container">
              <p class="stat-number">{{ totalSpaces }}</p>
              <span class="stat-trend neutral">
                <i class="fas fa-minus"></i> 0%
              </span>
            </div>
            <p class="stat-info">Depuis le mois dernier</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon bookings">
            <i class="fas fa-calendar-check"></i>
          </div>
          <div class="stat-details">
            <h3>Réservations</h3>
            <div class="stat-number-container">
              <p class="stat-number">{{ totalBookings }}</p>
              <span class="stat-trend positive">
                <i class="fas fa-arrow-up"></i> 18%
              </span>
            </div>
            <p class="stat-info">Depuis le mois dernier</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon active">
            <i class="fas fa-clock"></i>
          </div>
          <div class="stat-details">
            <h3>Réservations actives</h3>
            <div class="stat-number-container">
              <p class="stat-number">{{ activeBookings }}</p>
              <span class="stat-trend positive">
                <i class="fas fa-arrow-up"></i> 5%
              </span>
            </div>
            <p class="stat-info">Depuis le mois dernier</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Graphiques et visualisations -->
    <div class="dashboard-row charts-row">
      <div class="chart-card bookings-chart">
        <div class="card-header">
          <h3>Réservations mensuelles</h3>
          <div class="card-actions">
            <button class="btn-icon">
              <i class="fas fa-ellipsis-v"></i>
            </button>
          </div>
        </div>
        <div class="chart-container">
          <!-- Ici, intégrer un graphique (Chart.js, D3.js, etc.) -->
          <div class="placeholder-chart">
            <div class="bar" style="height: 40%"></div>
            <div class="bar" style="height: 60%"></div>
            <div class="bar" style="height: 85%"></div>
            <div class="bar" style="height: 70%"></div>
            <div class="bar" style="height: 90%"></div>
            <div class="bar" style="height: 65%"></div>
          </div>
        </div>
      </div>

      <div class="chart-card spaces-usage">
        <div class="card-header">
          <h3>Utilisation des espaces</h3>
          <div class="card-actions">
            <button class="btn-icon">
              <i class="fas fa-ellipsis-v"></i>
            </button>
          </div>
        </div>
        <div class="chart-container">
          <!-- Ici, intégrer un graphique circulaire -->
          <div class="placeholder-pie-chart">
            <div class="pie-segment" style="--percentage: 45%; --color: #4CAF50"></div>
            <div class="pie-segment" style="--percentage: 30%; --color: #2196F3"></div>
            <div class="pie-segment" style="--percentage: 25%; --color: #FFC107"></div>
          </div>
        </div>
        <div class="chart-legend">
          <div class="legend-item">
            <span class="color-dot" style="background-color: #4CAF50"></span>
            <span>Salles de réunion</span>
          </div>
          <div class="legend-item">
            <span class="color-dot" style="background-color: #2196F3"></span>
            <span>Bureaux privés</span>
          </div>
          <div class="legend-item">
            <span class="color-dot" style="background-color: #FFC107"></span>
            <span>Espaces ouverts</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Actions rapides -->
    <div class="quick-actions-section">
      <h2>Actions rapides</h2>
      <div class="actions-grid">
        <button class="action-card" (click)="navigateTo('register')">
          <div class="action-icon">
            <i class="fas fa-user-plus"></i>
          </div>
          <h3>Ajouter un utilisateur</h3>
          <p>Créer un nouveau compte utilisateur</p>
        </button>

        <button class="action-card" (click)="navigateTo('spaces/new')">
          <div class="action-icon">
            <i class="fas fa-plus-square"></i>
          </div>
          <h3>Ajouter un espace</h3>
          <p>Créer un nouvel espace de travail</p>
        </button>

        <button class="action-card" (click)="navigateTo('booking')">
          <div class="action-icon">
            <i class="fas fa-tasks"></i>
          </div>
          <h3>Gérer les réservations</h3>
          <p>Voir et gérer toutes les réservations</p>
        </button>

        <button class="action-card" (click)="navigateTo('analytics')">
          <div class="action-icon">
            <i class="fas fa-chart-line"></i>
          </div>
          <h3>Voir les analyses</h3>
          <p>Accéder aux rapports et statistiques</p>
        </button>
      </div>
    </div>
  </div>
</div>